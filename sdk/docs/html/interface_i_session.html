<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VirtualBox Main API: ISession Interface Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">VirtualBox Main API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="interface_i_session-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">ISession Interface Reference</div></div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="interface_i_session.html" title="The ISession interface represents a client process and allows for locking virtual machines (represent...">ISession</a> interface represents a client process and allows for locking virtual machines (represented by <a class="el" href="interface_i_machine.html" title="The IMachine interface represents a virtual machine, or guest, created in VirtualBox.">IMachine</a> objects) to prevent conflicting changes to the machine.  
 <a href="interface_i_session.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for ISession:</div>
<div class="dyncontent">
 <div class="center">
  <img src="interface_i_session.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a87571b3c87d705ee013b24f135f43715"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_session.html#a87571b3c87d705ee013b24f135f43715">unlockMachine</a> ()</td></tr>
<tr class="memdesc:a87571b3c87d705ee013b24f135f43715"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlocks a machine that was previously locked for the current session.  <br /></td></tr>
<tr class="separator:a87571b3c87d705ee013b24f135f43715"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aac4763cc59a693a81170ed9d1118d571"><td class="memItemLeft" align="right" valign="top">readonly attribute <a class="el" href="_virtual_box_8idl.html#ac82c179a797c0d7c249d1b98a8e3aa8f">SessionState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_session.html#aac4763cc59a693a81170ed9d1118d571">state</a></td></tr>
<tr class="memdesc:aac4763cc59a693a81170ed9d1118d571"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current state of this session.  <br /></td></tr>
<tr class="separator:aac4763cc59a693a81170ed9d1118d571"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3ce0abc5951d6e244c456518d7574b1"><td class="memItemLeft" align="right" valign="top">readonly attribute <a class="el" href="_virtual_box_8idl.html#a0695685c902e6c161ea20c244f605044">SessionType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_session.html#ac3ce0abc5951d6e244c456518d7574b1">type</a></td></tr>
<tr class="memdesc:ac3ce0abc5951d6e244c456518d7574b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of this session.  <br /></td></tr>
<tr class="separator:ac3ce0abc5951d6e244c456518d7574b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a107b71b59b4784b7690ddc83adc0999d"><td class="memItemLeft" align="right" valign="top">attribute wstring&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_session.html#a107b71b59b4784b7690ddc83adc0999d">name</a></td></tr>
<tr class="memdesc:a107b71b59b4784b7690ddc83adc0999d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of this session.  <br /></td></tr>
<tr class="separator:a107b71b59b4784b7690ddc83adc0999d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83d8f53d35e522599b192cac168c3495"><td class="memItemLeft" align="right" valign="top">readonly attribute <a class="el" href="interface_i_machine.html">IMachine</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_session.html#a83d8f53d35e522599b192cac168c3495">machine</a></td></tr>
<tr class="memdesc:a83d8f53d35e522599b192cac168c3495"><td class="mdescLeft">&#160;</td><td class="mdescRight">Machine object associated with this session.  <br /></td></tr>
<tr class="separator:a83d8f53d35e522599b192cac168c3495"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e36ef0b77cc8ef17fbe480f39492fad"><td class="memItemLeft" align="right" valign="top">readonly attribute <a class="el" href="interface_i_console.html">IConsole</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_session.html#a9e36ef0b77cc8ef17fbe480f39492fad">console</a></td></tr>
<tr class="memdesc:a9e36ef0b77cc8ef17fbe480f39492fad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Console object associated with this session.  <br /></td></tr>
<tr class="separator:a9e36ef0b77cc8ef17fbe480f39492fad"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="interface_i_session.html" title="The ISession interface represents a client process and allows for locking virtual machines (represent...">ISession</a> interface represents a client process and allows for locking virtual machines (represented by <a class="el" href="interface_i_machine.html" title="The IMachine interface represents a virtual machine, or guest, created in VirtualBox.">IMachine</a> objects) to prevent conflicting changes to the machine. </p>
<p>Any caller wishing to manipulate a virtual machine needs to create a session object first, which lives in its own process space. Such session objects are then associated with <a class="el" href="interface_i_machine.html">IMachine</a><b></b> objects living in the VirtualBox server process to coordinate such changes.</p>
<p>There are two typical scenarios in which sessions are used:</p>
<ul>
<li>
<p class="startli">To alter machine settings or control a running virtual machine, one needs to lock a machine for a given session (client process) by calling <a class="el" href="interface_i_machine.html#af28da645b00a821547d9cb8e92f8b7b0">IMachine::lockMachine</a><b></b>.</p>
<p class="interli">Whereas multiple sessions may control a running virtual machine, only one process can obtain a write lock on the machine to prevent conflicting changes. A write lock is also needed if a process wants to actually run a virtual machine in its own context, such as the VirtualBox GUI or VBoxHeadless front-ends. They must also lock a machine for their own sessions before they are allowed to power up the virtual machine.</p>
<p class="endli">As a result, no machine settings can be altered while another process is already using it, either because that process is modifying machine settings or because the machine is running. </p>
</li>
<li>
To start a VM using one of the existing VirtualBox front-ends (e.g. the VirtualBox GUI or VBoxHeadless), one would use <a class="el" href="interface_i_machine.html#aa75e76da42ef908795d235d995262c6f">IMachine::launchVMProcess</a><b></b>, which also takes a session object as its first parameter. This session then identifies the caller and lets the caller control the started machine (for example, pause machine execution or power it down) as well as be notified about machine execution state changes. </li>
</ul>
<p>How sessions objects are created in a client process depends on whether you use the Main API via COM or via the webservice:</p>
<ul>
<li>
When using the COM API directly, an object of the Session class from the VirtualBox type library needs to be created. In regular COM C++ client code, this can be done by calling <code>createLocalObject()</code>, a standard COM API. This object will then act as a local session object in further calls to open a session. </li>
<li>
In the webservice, the session manager (<a class="el" href="interface_i_websession_manager.html" title="Websession manager.">IWebsessionManager</a>) instead creates a session object automatically whenever <a class="el" href="interface_i_websession_manager.html#a5e916e645264e82b85282b1ee7080c80">IWebsessionManager::logon</a><b></b> is called. A managed object reference to that session object can be retrieved by calling <a class="el" href="interface_i_websession_manager.html#ad39dfdf908a0299a6611f0f6e42d034b">IWebsessionManager::getSessionObject</a><b></b>. </li>
</ul>
<dl class="section user"><dt>Interface ID:</dt><dd><code>{C0447716-FF5A-4795-B57A-ECD5FFFA18A4}</code> </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a87571b3c87d705ee013b24f135f43715" name="a87571b3c87d705ee013b24f135f43715"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87571b3c87d705ee013b24f135f43715">&#9670;&#160;</a></span>unlockMachine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ISession::unlockMachine </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unlocks a machine that was previously locked for the current session. </p>
<p>Calling this method is required every time a machine has been locked for a particular session using the <a class="el" href="interface_i_machine.html#aa75e76da42ef908795d235d995262c6f">IMachine::launchVMProcess</a><b></b> or <a class="el" href="interface_i_machine.html#af28da645b00a821547d9cb8e92f8b7b0">IMachine::lockMachine</a><b></b> calls. Otherwise the state of the machine will be set to <a class="el" href="_virtual_box_8idl.html#a80b08f71210afe16038e904a656ed9eba931466b6a20bc1e009437eb5956c7d46">MachineState_Aborted</a><b></b> on the server, and changes made to the machine settings will be lost.</p>
<p>Generally, it is recommended to unlock all machines explicitly before terminating the application (regardless of the reason for the termination).</p>
<dl class="section user"><dt>Expected result codes:</dt><dd><table class="doxtable">
<tr>
<td>E_UNEXPECTED</td><td>Session is not locked. </td></tr>
</table>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Do not expect the session state (<a class="el" href="interface_i_session.html#aac4763cc59a693a81170ed9d1118d571">ISession::state</a><b></b> to return to "Unlocked" immediately after you invoke this method, particularly if you have started a new VM process. The session state will automatically return to "Unlocked" once the VM is no longer executing, which can of course take a very long time. </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aac4763cc59a693a81170ed9d1118d571" name="aac4763cc59a693a81170ed9d1118d571"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac4763cc59a693a81170ed9d1118d571">&#9670;&#160;</a></span>state</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">readonly attribute <a class="el" href="_virtual_box_8idl.html#ac82c179a797c0d7c249d1b98a8e3aa8f">SessionState</a> ISession::state</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Current state of this session. </p>

</div>
</div>
<a id="ac3ce0abc5951d6e244c456518d7574b1" name="ac3ce0abc5951d6e244c456518d7574b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3ce0abc5951d6e244c456518d7574b1">&#9670;&#160;</a></span>type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">readonly attribute <a class="el" href="_virtual_box_8idl.html#a0695685c902e6c161ea20c244f605044">SessionType</a> ISession::type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of this session. </p>
<p>The value of this attribute is valid only if the session currently has a machine locked (i.e. its <a class="el" href="interface_i_session.html#aac4763cc59a693a81170ed9d1118d571">state</a><b></b> is Locked), otherwise an error will be returned. </p>

</div>
</div>
<a id="a107b71b59b4784b7690ddc83adc0999d" name="a107b71b59b4784b7690ddc83adc0999d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a107b71b59b4784b7690ddc83adc0999d">&#9670;&#160;</a></span>name</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">attribute wstring ISession::name</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Name of this session. </p>
<p>Important only for VM sessions, otherwise it it will be remembered, but not used for anything significant (and can be left at the empty string which is the default). The value can only be changed when the session state is SessionState_Unlocked. Make sure that you use a descriptive name which does not conflict with the VM process session names: "GUI/Qt", "GUI/SDL" and "headless". </p>

</div>
</div>
<a id="a83d8f53d35e522599b192cac168c3495" name="a83d8f53d35e522599b192cac168c3495"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83d8f53d35e522599b192cac168c3495">&#9670;&#160;</a></span>machine</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">readonly attribute <a class="el" href="interface_i_machine.html">IMachine</a> ISession::machine</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Machine object associated with this session. </p>

</div>
</div>
<a id="a9e36ef0b77cc8ef17fbe480f39492fad" name="a9e36ef0b77cc8ef17fbe480f39492fad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e36ef0b77cc8ef17fbe480f39492fad">&#9670;&#160;</a></span>console</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">readonly attribute <a class="el" href="interface_i_console.html">IConsole</a> ISession::console</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Console object associated with this session. </p>
<p>Only sessions which locked the machine for a VM process have a non-null console. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
