<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VirtualBox Main API: IMediumIO Interface Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">VirtualBox Main API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="interface_i_medium_i_o-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">IMediumIO Interface Reference</div></div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="interface_i_medium_i_o.html" title="The IMediumIO interface is used to access and modify the content of a medium.">IMediumIO</a> interface is used to access and modify the content of a medium.  
 <a href="interface_i_medium_i_o.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for IMediumIO:</div>
<div class="dyncontent">
 <div class="center">
  <img src="interface_i_medium_i_o.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9b82ae574be63c987bfa9d2b6e29990d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_medium_i_o.html#a9b82ae574be63c987bfa9d2b6e29990d">read</a> (in long long offset, in unsigned long size, [retval] out octet[] data)</td></tr>
<tr class="memdesc:a9b82ae574be63c987bfa9d2b6e29990d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read data from the medium.  <br /></td></tr>
<tr class="separator:a9b82ae574be63c987bfa9d2b6e29990d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe5b4802cd02c11cc7c7c8e08497c188"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_medium_i_o.html#afe5b4802cd02c11cc7c7c8e08497c188">write</a> (in long long offset, in octet[] data, [retval] out unsigned long written)</td></tr>
<tr class="memdesc:afe5b4802cd02c11cc7c7c8e08497c188"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write data to the medium.  <br /></td></tr>
<tr class="separator:afe5b4802cd02c11cc7c7c8e08497c188"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71964ae1a82928773311ccc334dc9b29"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_medium_i_o.html#a71964ae1a82928773311ccc334dc9b29">formatFAT</a> (in boolean quick)</td></tr>
<tr class="memdesc:a71964ae1a82928773311ccc334dc9b29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Formats the medium as FAT.  <br /></td></tr>
<tr class="separator:a71964ae1a82928773311ccc334dc9b29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a633f66aa507315e1ff93874cbb08079d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_medium_i_o.html#a633f66aa507315e1ff93874cbb08079d">initializePartitionTable</a> (in <a class="el" href="_virtual_box_8idl.html#a1c7ddffd4697521180aedcee8111660d">PartitionTableType</a> format, in boolean wholeDiskInOneEntry)</td></tr>
<tr class="memdesc:a633f66aa507315e1ff93874cbb08079d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes an empty partition table to the disk.  <br /></td></tr>
<tr class="separator:a633f66aa507315e1ff93874cbb08079d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00254ba9ce08190ee5b193982a7a8d56"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_medium_i_o.html#a00254ba9ce08190ee5b193982a7a8d56">convertToStream</a> (in wstring format, in <a class="el" href="_virtual_box_8idl.html#adedcbf1a6e5e35fe7a0ca0c4b3447154">MediumVariant</a>[] variant, in unsigned long bufferSize, out <a class="el" href="interface_i_data_stream.html">IDataStream</a> stream, [retval] out <a class="el" href="interface_i_progress.html">IProgress</a> progress)</td></tr>
<tr class="memdesc:a00254ba9ce08190ee5b193982a7a8d56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts the currently opened image into a stream of the specified image type/variant.  <br /></td></tr>
<tr class="separator:a00254ba9ce08190ee5b193982a7a8d56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd3ca8ffb6a5ca451461376c4f1a378d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_medium_i_o.html#afd3ca8ffb6a5ca451461376c4f1a378d">close</a> ()</td></tr>
<tr class="memdesc:afd3ca8ffb6a5ca451461376c4f1a378d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Explictly close the medium I/O rather than waiting for garbage collection and the destructor.  <br /></td></tr>
<tr class="separator:afd3ca8ffb6a5ca451461376c4f1a378d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aef2421a1979a5d8fea4e617c5f2c940c"><td class="memItemLeft" align="right" valign="top">readonly attribute <a class="el" href="interface_i_medium.html">IMedium</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_medium_i_o.html#aef2421a1979a5d8fea4e617c5f2c940c">medium</a></td></tr>
<tr class="memdesc:aef2421a1979a5d8fea4e617c5f2c940c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The open medium.  <br /></td></tr>
<tr class="separator:aef2421a1979a5d8fea4e617c5f2c940c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a048611d9dc86310b0329bf7ff3dd9146"><td class="memItemLeft" align="right" valign="top">readonly attribute boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_medium_i_o.html#a048611d9dc86310b0329bf7ff3dd9146">writable</a></td></tr>
<tr class="memdesc:a048611d9dc86310b0329bf7ff3dd9146"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether the medium can be written to.  <br /></td></tr>
<tr class="separator:a048611d9dc86310b0329bf7ff3dd9146"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9119cac2eb03435cc27ebfdabdef95e"><td class="memItemLeft" align="right" valign="top">readonly attribute <a class="el" href="interface_i_v_f_s_explorer.html">IVFSExplorer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_i_medium_i_o.html#aa9119cac2eb03435cc27ebfdabdef95e">explorer</a></td></tr>
<tr class="memdesc:aa9119cac2eb03435cc27ebfdabdef95e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the virtual file system explorer for the medium.  <br /></td></tr>
<tr class="separator:aa9119cac2eb03435cc27ebfdabdef95e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="interface_i_medium_i_o.html" title="The IMediumIO interface is used to access and modify the content of a medium.">IMediumIO</a> interface is used to access and modify the content of a medium. </p>
<p>It is returned by <a class="el" href="interface_i_medium.html#ad3e8a1970d411ba0ae6bf91f2774aa4f">IMedium::openForIO</a><b></b>.</p>
<dl class="section user"><dt>Interface ID:</dt><dd><code>{E4B301A9-5F86-4D65-AD1B-87CA284FB1C8}</code> </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a9b82ae574be63c987bfa9d2b6e29990d" name="a9b82ae574be63c987bfa9d2b6e29990d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b82ae574be63c987bfa9d2b6e29990d">&#9670;&#160;</a></span>read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IMediumIO::read </td>
          <td>(</td>
          <td class="paramtype">in long long&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in unsigned long&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">[retval] out octet[]&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read data from the medium. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">offset</td><td>The byte offset into the medium to start reading at.</td></tr>
    <tr><td class="paramname">size</td><td>How many bytes to try read.</td></tr>
    <tr><td class="paramname">data</td><td>Array of data read. This may be shorter than the specified size. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afe5b4802cd02c11cc7c7c8e08497c188" name="afe5b4802cd02c11cc7c7c8e08497c188"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe5b4802cd02c11cc7c7c8e08497c188">&#9670;&#160;</a></span>write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IMediumIO::write </td>
          <td>(</td>
          <td class="paramtype">in long long&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in octet[]&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">[retval] out unsigned long&#160;</td>
          <td class="paramname"><em>written</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write data to the medium. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">offset</td><td>The byte offset into the medium to start reading at.</td></tr>
    <tr><td class="paramname">data</td><td>Array of data to write.</td></tr>
    <tr><td class="paramname">written</td><td>How many bytes were actually written. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a71964ae1a82928773311ccc334dc9b29" name="a71964ae1a82928773311ccc334dc9b29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71964ae1a82928773311ccc334dc9b29">&#9670;&#160;</a></span>formatFAT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IMediumIO::formatFAT </td>
          <td>(</td>
          <td class="paramtype">in boolean&#160;</td>
          <td class="paramname"><em>quick</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Formats the medium as FAT. </p>
<p>Generally only useful for floppy images as no partition table will be created.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">quick</td><td>Quick format it when set. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a633f66aa507315e1ff93874cbb08079d" name="a633f66aa507315e1ff93874cbb08079d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a633f66aa507315e1ff93874cbb08079d">&#9670;&#160;</a></span>initializePartitionTable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IMediumIO::initializePartitionTable </td>
          <td>(</td>
          <td class="paramtype">in <a class="el" href="_virtual_box_8idl.html#a1c7ddffd4697521180aedcee8111660d">PartitionTableType</a>&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in boolean&#160;</td>
          <td class="paramname"><em>wholeDiskInOneEntry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes an empty partition table to the disk. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">format</td><td>The partition table format.</td></tr>
    <tr><td class="paramname">wholeDiskInOneEntry</td><td>When <code>true</code> a partition table entry for the whole disk is created. Otherwise the partition table is empty. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a00254ba9ce08190ee5b193982a7a8d56" name="a00254ba9ce08190ee5b193982a7a8d56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00254ba9ce08190ee5b193982a7a8d56">&#9670;&#160;</a></span>convertToStream()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IMediumIO::convertToStream </td>
          <td>(</td>
          <td class="paramtype">in wstring&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in <a class="el" href="_virtual_box_8idl.html#adedcbf1a6e5e35fe7a0ca0c4b3447154">MediumVariant</a>[]&#160;</td>
          <td class="paramname"><em>variant</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in unsigned long&#160;</td>
          <td class="paramname"><em>bufferSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">out <a class="el" href="interface_i_data_stream.html">IDataStream</a>&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">[retval] out <a class="el" href="interface_i_progress.html">IProgress</a>&#160;</td>
          <td class="paramname"><em>progress</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts the currently opened image into a stream of the specified image type/variant. </p>
<p>It is sufficient to open the image in read-only mode. Only few types and variants are supported due to the inherent restrictions of the output style.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">format</td><td>Identifier of the storage format to use for output.</td></tr>
    <tr><td class="paramname">variant</td><td>The partition table format.</td></tr>
    <tr><td class="paramname">bufferSize</td><td>Requested buffer size (in bytes) for efficient conversion. Sizes which are too small or too large are silently truncated to suitable values. Tens to hundreds of Megabytes are a good choice.</td></tr>
    <tr><td class="paramname">stream</td><td>Data stream object for reading the target image.</td></tr>
    <tr><td class="paramname">progress</td><td>Progress object to track the operation completion.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Expected result codes:</dt><dd><table class="doxtable">
<tr>
<td>VBOX_E_NOT_SUPPORTED</td><td>The requested format/variant combination cannot handle stream output. </td></tr>
<tr>
<td>VBOX_E_FILE_ERROR</td><td>An error occurred during the conversion. </td></tr>
</table>
</dd></dl>

</div>
</div>
<a id="afd3ca8ffb6a5ca451461376c4f1a378d" name="afd3ca8ffb6a5ca451461376c4f1a378d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd3ca8ffb6a5ca451461376c4f1a378d">&#9670;&#160;</a></span>close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IMediumIO::close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Explictly close the medium I/O rather than waiting for garbage collection and the destructor. </p>
<p>This will wait for any pending reads and writes to complete and then close down the I/O access without regard for open explorer instances or anything like that. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aef2421a1979a5d8fea4e617c5f2c940c" name="aef2421a1979a5d8fea4e617c5f2c940c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef2421a1979a5d8fea4e617c5f2c940c">&#9670;&#160;</a></span>medium</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">readonly attribute <a class="el" href="interface_i_medium.html">IMedium</a> IMediumIO::medium</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The open medium. </p>

</div>
</div>
<a id="a048611d9dc86310b0329bf7ff3dd9146" name="a048611d9dc86310b0329bf7ff3dd9146"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a048611d9dc86310b0329bf7ff3dd9146">&#9670;&#160;</a></span>writable</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">readonly attribute boolean IMediumIO::writable</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether the medium can be written to. </p>
<p>(It can always be read from.) </p>

</div>
</div>
<a id="aa9119cac2eb03435cc27ebfdabdef95e" name="aa9119cac2eb03435cc27ebfdabdef95e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9119cac2eb03435cc27ebfdabdef95e">&#9670;&#160;</a></span>explorer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">readonly attribute <a class="el" href="interface_i_v_f_s_explorer.html">IVFSExplorer</a> IMediumIO::explorer</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the virtual file system explorer for the medium. </p>
<p>This will attempt to recognize the format of the medium content and present it as a virtual directory structure to the API user.</p>
<p>A FAT floppy image will be represented will a single root subdir 'fat12' that gives access to the file system content.</p>
<p>A ISO-9660 image will have one subdir in the root for each format present in the image, so the API user can select which data view to access (iso9660, rockridge, joliet, udf, hfs, ...).</p>
<p>A partitioned harddisk image will have subdirs for each partition. The the filesystem content of each partition can be accessed thru the subdirs if we have a file system interpreter for it. There will also be raw files for each subdirectory, to provide a simple way of accessing raw partition data from an API client.</p>
<p>Please note that the explorer may show inconsistent information if the API user modifies the raw image content after it was opened. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
